#-------------------------------------------------------------------------
# @configure_input@
# Any edits of this file will be lost
# the next time configure is run.
#-------------------------------------------------------------------------

#
# NetBSD Makefile template
#
#
# $Id: Makefile.bsd.in,v 1.12 1999/11/17 07:00:18 bgrayson Exp $
#
include ../Makefile.config
@AUTODEPRULE_SUBDIR@

CXXFLAGS += -I$(TOP)


# No longer runs (kernel changes I think)
#swapinternal.o \
#diskmeter.o \
#intmeter.o \

OBJS = \
MeterMaker.o \
btrymeter.o \
cpumeter.o \
diskmeter.o \
intmeter.o \
intratemeter.o \
kernel.o \
loadmeter.o \
memmeter.o \
netmeter.o \
pagemeter.o \
swapmeter.o \
fsmeter.o \
sensor.o \
coretemp.o



CFILES := $(OBJS:.o=.cc)
DEPFILES := $(OBJS:%=.%.d)

#-----------------------------------------------------------------------

all : libmeter.a # concatdepend

clean :
	rm -f $(OBJS) $(DEPFILES) libmeter.a *~

libmeter.a : $(OBJS)
	ar cvr libmeter.a $(OBJS)
	@RANLIB@ $@

#----------------------------------------------------------------
# FIXME: cleanup kernel.cc at some point
#----------------------------------------------------------------
SHAME_FLAGS = -Wno-missing-field-initializers -Wno-write-strings
kernel.o: kernel.cc
	$(CXX) $(CXX_BUILD_FLAGS) $(SHAME_FLAGS) -c $< -o $@
#----------------------------------------------------------------

@AUTODEPEND@
