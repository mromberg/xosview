#
# Linux Makefile template
#
include ../Makefile.config

CXXFLAGS += -I@top_srcdir@

OBJS = \
cpumeter.o \
memmeter.o \
swapmeter.o \
netmeter.o \
intmeter.o \
serialmeter.o \
loadmeter.o \
MeterMaker.o

CFILES := $(OBJS:.o=.cc)
DEPFILES := $(OBJS:%=.%.d)

vpath %.h $(TOP)
vpath %.cc $(TOP)

#-----------------------------------------------------------------------

all : libmeter.a @MEMSTAT@

MemStat:
	$(MAKE) -C memstat

clean :
	rm -f $(OBJS) $(DEPFILES) libmeter.a *~
	if test "@MEMSTAT@" = "MemStat"; then $(MAKE) -C memstat clean; fi

libmeter.a : $(OBJS)
	ar cvr libmeter.a $(OBJS)

@AUTODEPEND@
